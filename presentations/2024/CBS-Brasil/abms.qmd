---
title: "Explorando o Potencial da Modelagem Baseada em Agentes"
author: "Eric Araújo"
format: 
    revealjs:
        theme: serif
        # background-color: "red"
        logo: ./imgs/logo.png
        footer: "19º CBS"
        history: false
---


## Quem sou eu?

:::: {.columns}

::: {.column width="30%"}
![](./imgs/foto-bw.png)

:::

::: {.column width="70%"}

Eric Araújo

  * Professor Associado da Calvin University (USA)
  * Coordenador BILbo (Behavioral Informatics Laboratory)
  * PhD pela Vrije Universiteit Amsterdam

:::

::::


## Agenda

1. O que é Modelagem Baseada em Agentes?
2. Aplicações Práticas da Modelagem Baseada em Agentes.
3. Orientação a Dados na Criação de Modelos
4. Aplicações e Exemplos
5. Interação

## Solucionando Problemas

:::: {.columns}

::: {.column width="30%"}
![](./imgs/Albert_Einstein_Head.jpg)
:::
::: {.column width="70%"}


> "Não podemos resolver problemas usando o mesmo tipo de pensamento que usamos quando os criamos."
> 
> -- Albert Einstein

:::
::::

# 1. O que é Modelagem Baseada em Agentes?

## 1
Modelagem baseada em agentes (MBAs) são modelos onde **múltiplas entidades** percebem e respondem **estocasticamente** às condições do ambiente local, imitando  o comportamento de sistemas complexos de larga escala.

## 1.1 Criando MBAs

<!-- ::: {.fragment fragment-index=1} -->
::: {.fragment .fade-in fragment-index=1}
::: {.fragment .highlight-red fragment-index=2}
::: {.fragment .semi-fade-out fragment-index=3}
<u>**Do que a simulação é feita?**</u>

Agentes, objetos ou entidades que agem **autonomamente**.

:::
:::
:::

::: {.fragment .fade-in fragment-index=1}
::: {.fragment .highlight-red fragment-index=3}
::: {.fragment .semi-fade-out fragment-index=4}
<u>**Como os agentes interagem?**</u>

Os agentes acessam e interagem com o **ambiente local** por meio de **regras internas simples** para tomada de decisões, movimentação e ação.
:::
:::
:::

::: {.fragment .fade-in fragment-index=1}
::: {.fragment .highlight-red fragment-index=4}
<!-- ::: {.fragment .semi-fade-out fragment-index=5} -->
<u>**O que é analisado? **</u>

O **comportamento agregado** do sistema simulado é o resultado da intensa interação entre os comportamentos relativamente simples de seus agentes individuais
<!-- ::: -->
:::
:::


## 1.2 Vantagens dos MBAs

::: {.fragment .fade-in fragment-index=1}
::: {.fragment .highlight-blue fragment-index=2}
::: {.fragment .semi-fade-out fragment-index=3}
1. **Visualização gráfica** de comportamentos.
:::
:::
:::
::: {.fragment .fade-in fragment-index=1}
::: {.fragment .highlight-blue fragment-index=3}
::: {.fragment .semi-fade-out fragment-index=4}
2. Vantagens em **custo** e **tempo** em relação a experimentos do mundo real.
:::
:::
:::
::: {.fragment .fade-in fragment-index=1}
::: {.fragment .highlight-blue fragment-index=4}
3. Estudos onde não é possível testes no mundo real.
:::
:::

# 2. Aplicações práticas da modelagem baseada em agentes

---

<center><figure>

<img src="/presentations/2024/CBS-Brasil/imgs/Thesis-Cover.png" alt="" width="500"/>

</figure></center>


---

:::{.fragment .fade-in}
:::{.absolute top=0 left=0}
![](./imgs/book1.jpg){height=400px}
:::
:::

:::{.fragment .fade-in}
:::{.absolute top=0 left=350}
![](./imgs/book2.jpg){height=400px}
:::
:::

:::{.fragment .fade-in}
:::{.absolute top=0 left=700}
![](./imgs/book3.jpg){height=400px}
:::
:::

:::{.fragment .fade-in}
:::{.absolute top=300 left=50}
![](./imgs/book4.jpg){height=400px}
:::
:::

:::{.fragment .fade-in}
:::{.absolute top=300 left=400}
![](./imgs/book5.jpg){height=400px}
:::
:::

:::{.fragment .fade-in}
:::{.absolute top=300 left=750}
![](./imgs/book6.jpg){height=400px}
:::
:::


## 2.1 Trabalhos: Segurança pública

:::: {.columns}

::: {.column width="50%"}
![](./imgs/seguranca-publica.png)
:::

::: {.column width="50%"}
Raquel Rosés, Cristina Kadar, Nick Malleson, **A data-driven agent-based simulation to predict crime patterns in an urban environment**, Computers, Environment and Urban Systems, Volume 89, 2021, ISSN 0198-9715.
:::
::::

   <!-- 1. Groff, E.R. (2007) Simulation for Theory Testing and Experimentation: An Example Using Routine Activity Theory and Street Robbery -->

## 2.1 Trabalhos: Forças Armadas

:::: {.columns}

::: {.column width="50%"}
![](./imgs/militar.png)
:::

::: {.column width="50%"}
Yun, Woo-Seop, Moon, Il-Chul and Lee, Tae-Eog (2015) **Agent-Based Simulation of Time to Decide: Military Commands and Time Delays.** Journal of Artificial Societies and Social Simulation 18 (4) 10. doi: 10.18564/jasss.2871
:::
::::

<!-- Woo-Seop Yun, Il-Chul Moon and Tae-Eog Lee (2015) Agent-Based Simulation of Time to Decide: Military Commands and Time Delays -->

## 2.1 Trabalhos: Formação e Sociedade

Mazhar Sajjad, Karandeep Singh, Euihyun Paik and Chang-Won Ahn (2016) A Data-Driven Approach for Agent-Based Modeling: Simulating the Dynamics of Family Formation

## 2.1 Trabalhos: Saúde

Hunter E, Mac Namee B, Kelleher J (2019) An open-data-driven agent-based model to simulate infectious disease outbreaks

## Modelos Simples vs Análises Complexas

- evacuação de estádios
- o caso das bicicletas na Holanda
- queimadas

:::{.notes}
Considere o processo de pessoas deixando o estádio depois de um evento esportivo.
Desenvolver um modelo para uma multidão de indivíduos seria algo entediante e tornaria qualquer mudança global no modelo difícil.

Ao invés disso, um agente (no caso, uma pessoa) poderia receber uma série de regras simples:
- Tente ir para o portão de saída mais próximo
- Se tiver muita gente na sua frente, tente se mover para a direita ou para a esquerda.
- Se tiver esperado um certo tempo sem conseguir se aproximar do portão, tente se movimentar para longe da multidão.
- Tente ficar próximo das outras pessoas do seu grupo de família ou amigos.

Em 1987, Reynolds descrever três regras para o comportamento de pássaros, conhecido como boids:
- prevenção de  colisão
- manutenção de velocidade de acordo com os demais do grupo
- centralidade no grupo

Essas regras são simples de serem listadas, mas nem sempre fáceis de serem implementadas. Mas, uma vez que as regras foram criadas, fica fácil popular um modelo baseado em agentes tanto com um pequeno quanto grande grupo de agentes.

***

Além disso, os agentes podem ser programados para aprender. Pode-se dar, por exemplo, 10 regras para um agente, e à medida que ele verifica o sucesso ou não de acordo com a regra escolhida, pesos diferentes são dados para as escolhas.

Um exemplo seria o aumento na matrícula de novos estudantes e uma redução nos espaços para estacionamento no campus, o que significaria que nas primeiras semanas do ano acadêmico, seria difícil de encontrar lugares para estacionar entre 7:00 e 09:00. Após algumas semanas, algumas pessoas mudaram seu comportamento: 
- algumas chegam mais cedo para garantir um lugar perto do seu prédio
- algumas chegam mais tarde, quando mais vagas são encontradas à medida que as aulas terminam e pessoas saem para almoçar
- outras estacionam fora do campus e caminham para evitar ter que procurar estacionamento
- outras começam a pedalar ou usar o transporte público.
:::


## Análises Complexas

“Os três objetivos primários de experimentos computacionais são: 
(i) predizer a resposta para entradas novas, 
(ii) otimizar a função de parâmetros de entradas, e 
(iii) calibrar o código do computadoR com dados reais.”
Sacks et al. (1989)

:::{.notes}
O que nos faz pensar que a análise desses modelos simples é complexa?
- ela requer uma forma diferente de análise dos problemas tradicionais de simulação

Sacks et al. (1989) fala sobre os três objetos principais de experimentos computacionais.
Infelizmente, para muitos modelos baseados em agentes, não é possível atingir nenhum deles!
:::

## Análises Complexas

Queimadas

:::{.notes}
Exemplo:
Desastres naturais são, felizmente, eventos não comuns em relação à ocorrência.

Quando eles ocorrem, existem alguns poucos fatores que conseguimos manipular, como distribuir comida de forma centralizada ou distribuída.

Não conseguimos controlar a raiva, a fome, ou a agressividade das pessoas em busca de comida ou tentando evacuar a área.

Temos implicações éticas também a serem consideradas em experimentos dessa natureza com humanos.

Dessa forma, enquanto podemos coletar uma evidência irrisória do que aconteceu, nós não conseguimos medir, durante ou depois do desastre, quaisquer dos valores intangíveis que podem nos informar sobre o porquê do acontecido.

Não será possível também coletar dados para calibrar o modelo, muito menos para predizer ou otimizar.

Ao invés disso, geralmente consideramos que a melhor análise é buscar por insights ou uma compreensão básica do modelo.

Ao buscar insights, temos a esperança de encontrar relações entre os diferentes fatores importantes e suas interações, assim como buscar regiões, limites e limiares onde coisas interessantes acontecem.

O que quero dizer é: enquanto modelos baseados em agentes são normalmente menores e mais simples do que outros tipos de simulação, o ambiente pode ser bastante complexo.
:::


# 3. Orientação a Dados na Criação de Modelos Baseados em Agentes


:::{.notes}
A ABM vem ganhando bastante projeção nas últimas décadas, pela sua capacidade de correspondência ontológica um-para-um entre o modelo e o mundo real.

Também permite que processos paralelos, interações não-lineares e heterogeneidade de sistemas sociais que dificilmente são capturados em outros tipos de  modelagem.
:::

## Modelos Empíricos vs Modelos Abstratos

:::{.notes}
Perguntas de pesquisa que demandam mecanismos com alta acurácia na predição, e quando o modelo precisa ser incorporado de forma realista. Modelos desse tipo são usados para definição de políticas públicas.

Modelos abstratos, ao contrário, partem de perguntas investigativas de teorias existentes, ou para a criação de novas teorias. ABMs para esses modelos geralmente são de alto nível e buscam encontrar padrões que demonstrem viradas na resposta, como o modelo de Schelling de segregação racial.

Apesar da necessidade de base empírica para modelos que busquem representar de formar realista, completa ou parcialmente, a realidade, não é comum encontrar este tipo de trabalho na literatura. Isso é resultado tanto da falta de disponibilidade de dados como da falta de qualidade dos dados em níveis abstratos aceitáveis.

- Falar da experiência ao trabalhar com esse tipo de pesquisa.

Com a emergência do Big data, onde dados são disponibilizados de forma individualizada, em alta velocidade (quase em tempo real) e cobrindo de forma exaustiva toda a população, presenciamos um ponto de virada na construção de modelos baseados em agentes de cinco anos para cá.
:::

## caracterizando os dados usados em mba 

![alt](tipos-dados.png)

:::{.notes}
Tipo de dado:
qualitativo: entrevistas, grupos de foco, etnografia.

Medidas repetidas:
a repetição de coleta de dados indica se é possível capturar mudanças temporais nos dados empíricos.

A ideia é verificar padrões ao longo do tempo em níveis individuais e populacionais.

Longitudinal: mesmos sujeitos medidos
Cross-sectional: sujeitos diferentes medidos

Exemplo de estudos com hábitos de cigarro e PAL (physical Activity level)


Impacto no modelo: mostra como as mudanças causadas dependem da forma como o dado é usado.

Inicialização: o modelo não é alterado, mas apenas os valores dos atributos iniciais ou de ambiente das variáveis muda.

Modificação da estrutura: uma modificação rastreável é feita no modelo, como modificar a fórmula que define a renda anual de cada agente usando dados para gerar uma regressão linear.

Geração de estrutura: a estrutura do modelo é parcial ou completamente criada do zero. Dessa forma, mudanças não podem ser rastreadas.

CONSIDERAÇÃO DO AGENTE
Nível populacional: dados de nível agregado, como os tipos dos agentes, distribuição de probabilidades, percentuais indicando uma propriedade do agente ou a chance de um evento/ação. Geralmente valores distribuídos igualmente entre os agentes.
ex. Censo

Individual:  dados longitudinais alimentados a cada agente de forma única.

:::

## Uma proposta de modelagem orientada a dados (Kavak, Hamdi, et al., 2018) 

### VISÃO CONTEXTUAL

Imagem 1

:::{.notes}
Modelo conceitual: descreve os detalhes do modelo em forma de texto ou diagramas

Fonte de dados: sistema ou repositório que contém os dados usados para os agentes.

Sistema de geração de agentes orientados a dados:  é o coração do método. A parte que pega os dados e o modelo conceitual para criar os agentes orientados a dados.

Máquina de simulação: roda os cenários pré-especificados com os agentes gerados.

O MODELO CONCEITUAL do sistema deve conter, ao menos:
- uma declaração de propósito, descrevendo o objetivo do modelo
- os tipos de agentes com seus atributos e assinaturas de comportamento
- o tipo do ambiente e as variáveis.

Exemplo do modelo das favelas e covid-19.
:::

## Uma proposta de modelagem orientada a dados (Kavak, Hamdi, et al., 2018) 

### VISÃO DE ALTO NÍVEL

Imagem 2

:::{.notes}
PREPARAÇÃO DOS DADOS: ciclo dos dados, desde a aquisição até o seu uso em passos seguintes.

Uso do KDD para processamento dos dados. Remoção de ruído, manuseio dos dados faltantes, transformação dos dados e remoção de entradas não usadas para a criação do comportamento e valores de atributo.

O processo de treinamento e ajuste dos atributos é um passo opcional usado quando pelo menos um atributo de um agente precisa ser inicializado baseado na dispersão entre a população do mundo real. Os dados são passados por algum algoritmo de aprendizagem de máquina para inicialização dos atributos.
:::

## Uma proposta de modelagem orientada a dados (Kavak, Hamdi, et al., 2018) 

### VISÃO INDIVIDUAL DA CRIAÇÃO DO AGENTE

Imagem 3

:::{.notes}
Na organização e tratamento dos ATRIBUTOS:
- Inicialização direta: passa o valor pelos dois processos sem modificação
- Inicialização baseada em procura: usa uma tabela de busca para adequar o valor à uma categoria. Por exemplo, idade vira faixa de idade.
- Inicialização baseada no modelo: organiza e transforma os dados em uma entrada para modelos de inferência (aprendizagem de máquina ou estatístico).

Na geração de regras de COMPORTAMENTO
Organizar e transformar"os dados são transformados para que cada ação e parâmetros relacionados se tornem um único registro. Esses registros serão usados para treinar o modelo da máquina de aprendizagem. O modelo gerado é encapsulado como uma função e se torna uma função do agente que reflete as regras de comportamento.
:::

# 4. Aplicações de orientação a dados na criação de modelos baseados em agentes


### Padrões de roubos de rua  na cidade de lavras

- Registros de ocorrências da PMMG
- Censo demográfico da cidade de Lavras

### Espalhamento da covid-19 em contextos de desigualdade social 

- Censo demográfico do Rio de Janeiro
- Dados do desenvolvimento da doença em diferentes casos
- Dados socioeconomicos da região estudada (Copacabana, Ipanema e Complexo do Pavão-Pavãozinho)
- Dados da base do Ministério da Saúde sobre infraestrutura hospitalar 

